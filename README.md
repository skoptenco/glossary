## API Глоссарий терминов ВКР

---

Сборка и запуск сервисов осуществляется при помощи docker compose

```
    docker compose build
    docker compose up -d
```

#### Запуск сервисов без контейнеризации

Web

```
    uvicorn web.main:app --host 0.0.0.0 --port 8000 --reload
```

Grpc

```
    export PYTHONPATH=$(pwd)
    python grpc/server.py
```

### Структура БД

---

В базе данных SQLite имеется единственная таблица Term с полями `keyword` и `description`
1. <b>keyword</b> – ключевое слово, название самого термина
2. <b>description</b> – текстовое описание термина

### Структура проекта

---

В проекте присутствует несколько основных директорий:

1. web. Реализация сервиса при помощи методологии rest
2. grpc. Реализация сервиса при помощи технологии grpc
3. shared. Общие элементы логики и модели
4. testing. locust-тесты


### Rest API

---

Сервис, имплементирующий метологию REST, реализован при помощи:
- fastapi – фреймворк для создания api
- SQLite в качестве базы данных
- pydantic для валидации полей
- uvicorn для поднятия asgi веб-сервера

### GRPC

---

Сервис, использующий технологию grpc, написан при помощи:
- grpcio – библиотека, позволяющая использовать функционал grpc
- grpcio-tools необходим для генерации pb файлов
- grpcio-reflection позволяет использовать reflection api
- pydantic для валидации полей

### Нагрузочное тестирование

---

Тесты были написаны при помощи библиотеки locust. 

В директории testing имеется два основных файла: 

1. locust-web.py – тесты для рест
2. locust-grpc.py – тесты для grpc

Во внутренней директории config находятся конфигурации для запуска тестов с разной нагрузкой

Запуск тестов:
```
    cd testing
    locust -f locust-web.py --host=localhost:8000
    locust -f locust-grpc.py
```

> Для запуска grpc тестов нет необходимости указывать хоста, тк хост уже заранее указан при подключении канала в тестах

Результаты заранее проведенных тестов находятся в директории results

Аппаратные характеристики компьютера, на котором тестировались приложения:
- Apple M1 Pro
- 32 GB RAM
- 16 GB GPU